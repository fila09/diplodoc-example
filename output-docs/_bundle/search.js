(()=>{var e,t,r,n={42634:()=>{},44186:()=>{var e,t;"undefined"!=typeof Element&&(t=(e=Element.prototype).matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector,e.matches=e.matchesSelector=t||function(e){var t=this;return Array.prototype.some.call(document.querySelectorAll(e),(function(e){return e===t}))}),"undefined"!=typeof document&&document.addEventListener("click",(function(e){var t=e.target.href,r=window.location.origin;if(e.target.matches(".dc-doc-layout__center a")&&t.startsWith(r)){e.preventDefault();var n=".html";if(t.endsWith("/"))return void(window.location.href="".concat(t).concat("index").concat(n));var o=t.split("#");if(o.length>0&&!o[0].endsWith(n))return o[0]+=n,void(window.location.href=o.join("#"));window.location.href=t}}))},57757:(e,t,r)=>{"use strict";var n=r(96540),o=r(5338),a=r(15637),c=r(64216),i=r(10467),u=r(3453),s=r(54756),l=r.n(s),p=r(6650),f=r(23614),h=(0,n.createContext)({pathname:"/",depth:0});h.displayName="RouterContext";var d=h.Provider,v=r(64467),g=(r(20553),r(45458)),b=r(78184);b.Sx.Light,b.ov.M,(0,g.A)(new Set([].concat(["href"],["src","url","href","icon","image","desktop","mobile","tablet","previewImg","image","avatar","logo","light","dark"])));var y=(0,n.createContext)(b.JA.En);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,v.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}y.displayName="Lang",y.Provider,r(44186);var O=(0,f.A)("Layout");function j(){return null}function k(){return null}function S(){return null}var x={doc:!1},P=function(e){var t,r,o,a=w(w({},x),e),c=a.children,i=a.doc,u=a.headerHeight,s=void 0===u?0:u;return n.Children.forEach(c,(function(e){switch(e.type){case j:t=e.props.children;break;case k:r=e.props.children;break;case S:o=e.props.children}})),n.createElement("div",{className:O({"full-header":s>0})},t&&n.createElement("div",{className:O("header")},t),n.createElement("div",{className:O("body")},r&&n.createElement("div",{className:O("content")},r),o&&n.createElement("div",{className:O("footer",{doc:i})},o)))};P.displayName="Layout",P.Header=j,P.Content=k,P.Footer=S,(0,f.A)("pc-page-constructor"),(0,f.A)("pc-constructor-row"),(0,f.A)("Suggest");var A=r(26141),E=r(7137),C=(0,n.memo)((function(e){var t=e.mobileView,r=e.theme,o=e.onChangeTheme,a=e.textSize,c=e.onChangeTextSize,i=e.wideFormat,u=e.onChangeWideFormat,s=e.showMiniToc,l=e.onChangeShowMiniToc,p=e.lang,f=e.langs,h=e.onChangeLang;return n.createElement(A.n,{controlClassName:"Control",controlSize:b.Uv.L,isWideView:t,isMobileView:t},n.createElement(E.A,{className:"Controls",theme:r,onChangeTheme:o,wideFormat:i,onChangeWideFormat:u,showMiniToc:s,onChangeShowMiniToc:l,textSize:a,onChangeTextSize:c,lang:p,langs:f,onChangeLang:h}))}));C.displayName="HeaderControls",r(58498),r(89457),r(57016),r(81397),r(81452);var _=r(23029),M=r(92901);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){(0,v.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(){return(0,M.A)((function e(t){var r=this;(0,_.A)(this,e),(0,v.A)(this,"worker",void 0),(0,v.A)(this,"config",void 0),(0,v.A)(this,"init",(function(){var e=L(L({},r.config),{},{base:r.base,mark:"Suggest__Item__Marker"});r.worker=function(e){return U.apply(this,arguments)}(e)})),(0,v.A)(this,"link",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new URLSearchParams;e&&n.set("query",e),t>1&&n.set("page",t.toString());var o=n.toString()?"?".concat(n.toString()):"";return"".concat(r.base,"/").concat(r.config.link).concat(o)})),this.config=t}),[{key:"suggest",value:(r=(0,i.A)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&""!==t.trim()){e.next=2;break}return e.abrupt("return",[]);case 2:return r={type:"suggest",query:t},e.next=5,this.request(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"search",value:(t=(0,i.A)(l().mark((function e(t){var r,n,o,a=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:1,n=a.length>2&&void 0!==a[2]?a[2]:10,t&&""!==t.trim()){e.next=4;break}return e.abrupt("return",[]);case 4:return o={type:"search",query:t,page:r,count:n},e.next=7,this.request(o);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"base",get:function(){return window.location.href.split("/").slice(0,-this.config.depth).join("/")}},{key:"request",value:(e=(0,i.A)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.worker;case 2:return r=e.sent,e.next=5,W(r,t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e,t,r}(),N=/Script at '(.*?)' cannot be accessed from origin/;function R(){return T.apply(this,arguments)}function T(){return T=(0,i.A)(l().mark((function e(){var t,n,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new Worker(new URL(r.p+r.u(350),r.b)));case 4:if(e.prev=4,e.t0=e.catch(0),!(e.t0 instanceof DOMException)){e.next=12;break}if(!(t=N.exec(e.t0.message))){e.next=12;break}return n=t[1],o=new Blob(["importScripts('".concat(n,"');")],{type:"text/javascript"}),e.abrupt("return",new Worker(URL.createObjectURL(o)));case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,4]])}))),T.apply(this,arguments)}function U(){return U=(0,i.A)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:return r=e.sent,e.next=5,W(r,L(L({},t),{},{type:"init"}));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function W(e,t){var r=new MessageChannel;return new Promise((function(n,o){r.port1.onmessage=function(e){e.data.error?o(e.data.error):n(e.data.result)},r.port1.onmessageerror=function(e){o(e)},e.postMessage(t,[r.port2])}))}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,v.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var F=function(){return(0,M.A)((function e(t){var r=this;(0,_.A)(this,e),(0,v.A)(this,"worker",void 0),(0,v.A)(this,"config",void 0),(0,v.A)(this,"init",(function(){r.worker=function(e){return $.apply(this,arguments)}(z(z({},r.config),{},{base:r.base,mark:"Suggest__Item__Marker"}))})),(0,v.A)(this,"link",(function(){return null})),this.config=t}),[{key:"suggest",value:(r=(0,i.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request({type:"suggest",query:t}));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"search",value:(t=(0,i.A)(l().mark((function e(t){var r,n,o=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:1,n=o.length>2&&void 0!==o[2]?o[2]:10,e.abrupt("return",this.request({type:"search",query:t,page:r,count:n}));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"base",get:function(){return window.location.href.split("/").slice(0,-this.config.depth).join("/")}},{key:"request",value:(e=(0,i.A)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=K,e.next=3,this.worker;case 3:return e.t1=e.sent,e.t2=t,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e,t,r}(),B=/Script at '(.*?)' cannot be accessed from origin/;function H(){return V.apply(this,arguments)}function V(){return V=(0,i.A)(l().mark((function e(){var t,n,o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new Worker(new URL(r.p+r.u(969),r.b)));case 4:if(e.prev=4,e.t0=e.catch(0),!(e.t0 instanceof DOMException)){e.next=12;break}if(!(t=B.exec(e.t0.message))){e.next=12;break}return n=t[1],o=new Blob(["importScripts('".concat(n,"');")],{type:"text/javascript"}),e.abrupt("return",new Worker(URL.createObjectURL(o)));case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,4]])}))),V.apply(this,arguments)}function $(){return $=(0,i.A)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return r=e.sent,e.next=5,K(r,z(z({},t),{},{type:"init"}));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function K(e,t){var r=new MessageChannel;return new Promise((function(n,o){r.port1.onmessage=function(e){e.data.error?o(e.data.error):n(e.data.result)},r.port1.onmessageerror=function(e){o(e.data.error)},e.postMessage(t,[r.port2])}))}function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){(0,v.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Q=(0,f.A)("Search");function X(e,t){var r=new URLSearchParams;e&&r.set("query",e),t>1&&r.set("page",String(t)),window.history.pushState({},"","?".concat(r.toString()))}function Y(e){return Array.isArray(e)?e.map((function(e){var t,r,n;return{title:(null==e?void 0:e.title)||(null==e||null===(t=e.hierarchy)||void 0===t?void 0:t.lvl0)||(null==e||null===(r=e.hierarchy)||void 0===r?void 0:r.lvl1)||"",url:(null==e?void 0:e.url)||(null==e?void 0:e.link)||"#",description:(null==e?void 0:e.description)||(null==e?void 0:e.content)||(null==e?void 0:e.text)||"",section:(null==e?void 0:e.section)||(null==e||null===(n=e.hierarchy)||void 0===n?void 0:n.lvl1)||""}})):[]}var Z=function(){var e=function(){var e=(0,n.useContext)(y),t=(0,n.useContext)(h).depth,r=void 0===t?0:t,o=(0,n.useContext)(ee),a=(0,n.useState)(null),c=(0,u.A)(a,2),i=c[0],s=c[1],l=(0,n.useMemo)((function(){return o?G(G({},o),{},{depth:r,lang:e}):null}),[e,r,o]);return(0,n.useEffect)((function(){l&&s(function(e){if(!e)return null;var t=e.provider;return"algolia"===(void 0===t?"local":t)?new q(e):new F(e)}(l))}),[l]),i}(),t=(0,n.useContext)(h),r=(0,n.useState)(""),o=(0,u.A)(r,2),a=o[0],c=o[1],s=(0,n.useState)(1),f=(0,u.A)(s,2),d=f[0],v=f[1],g=(0,n.useState)([]),b=(0,u.A)(g,2),m=b[0],w=b[1],O=(0,n.useState)(0),j=(0,u.A)(O,2),k=j[0],S=j[1],x=(0,n.useState)(!1),P=(0,u.A)(x,2),A=P[0],E=P[1],C=(0,n.useRef)(null);(0,n.useEffect)((function(){var t;C.current=e,null==e||null===(t=e.init)||void 0===t||t.call(e)}),[e]),(0,n.useEffect)((function(){var e,t={query:(e=new URLSearchParams(window.location.search)).get("query")||"",page:Number(e.get("page"))||1},r=t.page;c(t.query),v(r)}),[t]);var _=(0,n.useCallback)(function(){var e=(0,i.A)(l().mark((function e(t,r){var n,o,a,c,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,null===(n=C.current)||void 0===n?void 0:n.search(t,r,10);case 4:o=e.sent,a=Y(null!=o?o:[]),w(a),c=a.length<10,i=c?10*(r-1)+a.length:10*r+1,S(a.length>0?i:0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),w([]),S(0);case 16:return e.prev=16,E(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(t,r){return e.apply(this,arguments)}}(),[]);(0,n.useEffect)((function(){a&&C.current?_(a,d):(w([]),S(0))}),[a,d,e,_]);var M=(0,n.useCallback)((function(e){X(a,e),v(e)}),[a]),D=(0,n.useCallback)((function(e){X(e,1),c(e),v(1)}),[]);return n.createElement("div",{className:Q()},n.createElement(p.A,{query:a,items:m,page:d,totalItems:k,onPageChange:M,onSubmit:D,loading:A}))},ee=(0,n.createContext)(null);ee.displayName="SearchContext";var te=ee.Provider,re=document.getElementById("root");if(!re)throw new Error("Root element not found!");var ne=new URL(window.location.href),oe=window.__DATA__||{},ae=oe.lang;(0,a.jK)({lang:ae}),(0,c.jK)({lang:ae}),oe.depth=oe.depth||3;var ce={pathname:ne.pathname,depth:3};(0,o.H)(re).render(n.createElement(d,{value:ce},n.createElement(te,{value:oe},n.createElement(Z,null))))}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={id:e,loaded:!1,exports:{}};return n[e].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=n,a.amdO={},e=[],a.O=(t,r,n,o)=>{if(!r){var c=1/0;for(l=0;l<e.length;l++){for(var[r,n,o]=e[l],i=!0,u=0;u<r.length;u++)(!1&o||c>=o)&&Object.keys(a.O).every((e=>a.O[e](r[u])))?r.splice(u--,1):(i=!1,o<c&&(c=o));if(i){e.splice(l--,1);var s=n();void 0!==s&&(t=s)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,n,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var o=Object.create(null);a.r(o);var c={};t=t||[null,r({}),r([]),r(r)];for(var i=2&n&&e;"object"==typeof i&&!~t.indexOf(i);i=r(i))Object.getOwnPropertyNames(i).forEach((t=>c[t]=()=>e[t]));return c.default=()=>e,a.d(o,c),o},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.u=e=>e+".js",a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),a.j=187,(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{a.b=document.baseURI||self.location.href;var e={187:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[c,i,u]=r,s=0;if(c.some((t=>0!==e[t]))){for(n in i)a.o(i,n)&&(a.m[n]=i[n]);if(u)var l=u(a)}for(t&&t(r);s<c.length;s++)o=c[s],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(l)},r=self.webpackChunk_diplodoc_client=self.webpackChunk_diplodoc_client||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var c=a.O(void 0,[644,121],(()=>a(57757)));c=a.O(c)})();
//# sourceMappingURL=search.js.map